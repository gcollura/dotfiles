" randomcpp's vimrc

if &compatible
    set nocompatible " Be iMproved
endif
filetype off

" Force the use of python2
if has('python')
    py a = 1
elseif has('python3')
    py3 a = 1
endif

if has('vim_starting')
    set runtimepath+=~/.vim/bundle/neobundle.vim/
endif

call neobundle#rc(expand('~/.vim/bundle'))
NeoBundleFetch 'Shougo/neobundle.vim'

""" Files and backup

" History size
set history=100

" Saving and reloading
set confirm
set autoread

" Autosave
au FocusLost * silent! wa

" Encoding
set encoding=utf-8
" Default fileformat.
set fileformat=unix
" Automatic recognition of a new line cord.
set fileformats=unix,dos,mac

" Persistent undo
" set hidden " Old
set undodir=$HOME/.vim/undo " Where to save undo(s)
set undofile " Save undo when switching buffer or closing files

" Folding
set foldmethod=indent " Convenient with C++
set nofoldenable " Folding disable by default
" No folding when loading files
au BufRead * normal zR

""" Editing

" Indentation/tab settings
set autoindent
set smartindent
set tabstop=4
set shiftwidth=4
set softtabstop=4
set expandtab
set smarttab

" Change the way backslashes are used in search patterns
set magic

" Turn off word wrapping
set nowrap

" Sane backspace behaviour
set backspace=indent,eol,start

" Set default clipboard
set clipboard+=unnamedplus

""" Spell Checking

set nospell
set spelllang=en
set spellsuggest=5

""" Completion

set wildmenu
"stuff to ignore when tab completing
set wildignore=*.o,*.png,*.gif,*.jpg,*.jpeg,*.zip,*.jar,*.gem,coverage/**,log/**,*.pyc,*~,build/**

""" Search

set hlsearch
set incsearch
set ignorecase
set smartcase
set gdefault


""" Display

" set lazyredraw
set laststatus=2
" Hide show mode while using airline
set noshowmode
" Enable modelines
set modeline

" Numbers
set number
set relativenumber
set numberwidth=5

set scrolloff=4

" Highlight current line
set cursorline

" Column
set textwidth=80
set colorcolumn=+1

" Session options
set sessionoptions=buffers,curdir,tabpages,unix

set pastetoggle=<F9>

if has("win32") || has("win64")
    set shellslash
endif

" Load configurations
source $HOME/.vim/bundles.vim
source $HOME/.vim/mappings.vim
source $HOME/.vim/filetype.vim
source $HOME/.vim/custom.vim

" Syntax highlighting and colorscheme
syntax on
if has("gui_running")
    set background=light
    colorscheme atom
    let g:airline_theme = 'lucius'
else
    set background=dark
    colorscheme luna-term
    let g:airline_theme = 'luna'
endif
